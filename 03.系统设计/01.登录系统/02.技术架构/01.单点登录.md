# 单点登录

单点登录（Single Sign On）系统可以使用户在只登录一次的情况下访问所有相互信任的应用系统。

## 优点

单点登录避免了用户频繁地注册、登录各个应用子系统，优化了用户体验。

## 基本原理

单点登录需要独立的认证中心，所有的子系统都通过认证中心进行身份的验证，用户的注册、登录操作都在认证中心完成。具体流程如下: 

1. 子系统接到访问请求，带上子系统的 uri 访问认证中心

2. 认证中心鉴权，若未登录，客户端跳转登录页面；若已登录且身份验证成功，子系统和客户端开始会话。

3. 客户端中，多个子系统通过相同凭证共享一个登录状态。

即：多个子系统都通过认证中心授权， 获取全局会话和凭证，子系统经过认证中心授权后创建局部会话。

## 实现步骤

cas 是一种 sso 的实现方式，它的认证流程如下：

1. 子系统访问 CAS 中央认证服务。

2. CAS 利用 jwt 等方案生成鉴权凭证。

3. 通过 cookie 等技术传递鉴权凭证。

4. CAS 通过传递的鉴权凭证完成身份认证。