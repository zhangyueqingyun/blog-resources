# ECMA 2021 新特性

ECMA 2021 （es12）的新特性已经出来很久了，现在让我们详细看一下它的特性有哪些吧！

## 1 新增逻辑赋值操作符

### 1.1 逻辑操作符 ??=

```javascript
version = version ?? 'ecma2021';
version ??= 'ecma2021';
```

### 1.2 逻辑操作符 ||= 

```javascript
version = version || 'ecma2022';
version ||= 'ecma2022';
```

### 1.3 逻辑操作符 &&=

```javascript
version = version && 'ecma2022';
version &&= 'ecma2022';
```

## 2 新增弱引用类 WeapRef

和 WeakMap、Weakset 相似，通过 WeakRef 创建的弱引用不计入 JS 引擎的垃圾回收算法引用计数的计数当中。

```javascript
new WeakRef({version: 'ecma2022'});
```

## 新增数字分隔符 _

可以使大数字的可读性更好。

```javascript 
const number = 123_456_789;
```

## 3 国际化

### 3.1 新增国际化列表格式化类

根据语言进行列表的格式化。

```javascript 
const listFormat = new Intl.ListFormat('zh-cn');

listFormat.format(['ecma2022']);
```

### 3.2 为国际化日期格式化类添加参数

为 Intl.DateTimeFormat 新增参数 dateStyle 和 timeStyle。

#### 3.3 新增 dateStyle 参数

设置格式化日期的长度。

```javascript
new Intl.DateTimeFormat("zh-cn", {
    dateStyle: "short"
}) ;
```

#### 3.4 新增 timeStyle 参数

设置格式化时间的长度。

```javascript
new Intl.DateTimeFormat("zh-cn", {
    dateStyle: "short"
});
```